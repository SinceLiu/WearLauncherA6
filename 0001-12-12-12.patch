From 9092ca4081fb6ffba8f94215e34a3ec2d2374f01 Mon Sep 17 00:00:00 2001
From: lxx <lxx@readboy.com>
Date: Thu, 27 Jun 2019 16:14:31 +0800
Subject: [PATCH] =?UTF-8?q?12=E5=B0=8F=E6=97=B6=E5=88=B6=E4=B8=AD=E5=8D=88?=
 =?UTF-8?q?12=E7=82=B9=E6=98=BE=E7=A4=BA12?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 app/AndroidManifest.xml                               |  4 ++--
 app/src/com/readboy/wearlauncher/view/DigitClock.java | 11 +++++++++--
 2 files changed, 11 insertions(+), 4 deletions(-)

diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index eeb1159..0d6f56e 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -2,8 +2,8 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="com.readboy.wearlauncher"
     android:sharedUserId="android.uid.phone"
-    android:versionCode="190614001"
-    android:versionName="4.2">
+    android:versionCode="190627001"
+    android:versionName="4.3">
 
     <uses-permission android:name="android.permission.FORCE_STOP_PACKAGES" />
     <uses-permission android:name="android.permission.CALL_PHONE" />
diff --git a/app/src/com/readboy/wearlauncher/view/DigitClock.java b/app/src/com/readboy/wearlauncher/view/DigitClock.java
index 2dcd15a..f3978b9 100644
--- a/app/src/com/readboy/wearlauncher/view/DigitClock.java
+++ b/app/src/com/readboy/wearlauncher/view/DigitClock.java
@@ -221,7 +221,7 @@ public class DigitClock extends LinearLayout {
         int hour1 = currentHour % 10;
         int min0 = currentMinute / 10;
         int min1 = currentMinute % 10;
-         if (dialType == TYPE_G) {
+        if (dialType == TYPE_G) {
             hourImage0.setBackgroundResource(clockDrawable_type_g[hour0]);
             hourImage1.setBackgroundResource(clockDrawable_type_g[hour1]);
             minImage0.setBackgroundResource(clockDrawable_type_g[min0]);
@@ -283,6 +283,10 @@ public class DigitClock extends LinearLayout {
             mHour = calendar.get(Calendar.HOUR_OF_DAY);
         } else {
             mHour = calendar.get(Calendar.HOUR);
+            //中午12点显示12
+            if (mHour == 0) {
+                mHour = calendar.get(Calendar.HOUR_OF_DAY);
+            }
         }
         mMinutes = calendar.get(Calendar.MINUTE);
         mMilliSeconds = calendar.get(Calendar.MILLISECOND);
@@ -300,7 +304,6 @@ public class DigitClock extends LinearLayout {
     }
 
     private final Runnable mClockTick = new Runnable() {
-
         @Override
         public void run() {
             Calendar calendar = Calendar.getInstance();
@@ -308,6 +311,10 @@ public class DigitClock extends LinearLayout {
                 mHour = calendar.get(Calendar.HOUR_OF_DAY);
             } else {
                 mHour = calendar.get(Calendar.HOUR);
+                //中午12点显示12
+                if (mHour == 0) {
+                    mHour = calendar.get(Calendar.HOUR_OF_DAY);
+                }
             }
             mMinutes = calendar.get(Calendar.MINUTE);
             mMilliSeconds = calendar.get(Calendar.MILLISECOND);
-- 
2.18.0.windows.1

